<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Clearwater Automatic Clustering and Configuration Sharing &mdash; Project Clearwater 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="Project Clearwater 1.0 documentation" href="index.html" />
    <link rel="next" title="Provisioning Subscribers" href="Provisioning_Subscribers.html" />
    <link rel="prev" title="SIP Interface Specifications" href="SIP_Interface_Specifications.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="clearwater-automatic-clustering-and-configuration-sharing">
<h1>Clearwater Automatic Clustering and Configuration Sharing<a class="headerlink" href="#clearwater-automatic-clustering-and-configuration-sharing" title="Permalink to this headline">¶</a></h1>
<p>Clearwater has a feature that allows nodes in a deployment to
automatically form the correct clusters and share configuration with
each other. This makes deployments much easier to manage. For example:</p>
<ul class="simple">
<li>It is easy to add new nodes to an existing deployment. The new nodes
will automatically join the correct clusters according to their node
type, without any loss of service. The nodes will also learn the
majority of their config from the nodes already in the deployment.</li>
<li>Similarly, removing nodes from a deployment is straightforward. The
leaving nodes will leave their clusters without impacting service.</li>
<li>It makes it much easier to modify configuration that is shared across
all nodes in the deployment.</li>
</ul>
<p>This features uses <a class="reference external" href="https://github.com/coreos/etcd">etcd</a> as a
decentralized data store, a <code class="docutils literal"><span class="pre">clearwater-cluster-manager</span></code> service to
handle automatic clustering, and a <code class="docutils literal"><span class="pre">clearwater-config-manager</span></code> to
handle configuration sharing.</p>
<div class="section" id="is-my-deployment-using-automatic-clustering-and-configuration-sharing">
<h2>Is my Deployment Using Automatic Clustering and Configuration Sharing?<a class="headerlink" href="#is-my-deployment-using-automatic-clustering-and-configuration-sharing" title="Permalink to this headline">¶</a></h2>
<p>To tell if your deployment is using this feature, log onto one of the
nodes in your deployment and run <code class="docutils literal"><span class="pre">dpkg</span> <span class="pre">--list</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">clearwater-etcd</span></code>.
If this does not give any output the feature is not in use.</p>
</div>
<div class="section" id="migrating-to-automatic-clustering-and-configuration-sharing">
<h2>Migrating to Automatic Clustering and Configuration Sharing<a class="headerlink" href="#migrating-to-automatic-clustering-and-configuration-sharing" title="Permalink to this headline">¶</a></h2>
<p>Deployments that are not using the feature may be migrated so they start
using it. To perform this migration, follow these
<a class="reference external" href="Migrating_To_etcd">instructions</a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Clearwater Automatic Clustering and Configuration Sharing</a><ul>
<li><a class="reference internal" href="#is-my-deployment-using-automatic-clustering-and-configuration-sharing">Is my Deployment Using Automatic Clustering and Configuration Sharing?</a></li>
<li><a class="reference internal" href="#migrating-to-automatic-clustering-and-configuration-sharing">Migrating to Automatic Clustering and Configuration Sharing</a></li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="SIP_Interface_Specifications.html" title="previous chapter">SIP Interface Specifications</a></li>
      <li>Next: <a href="Provisioning_Subscribers.html" title="next chapter">Provisioning Subscribers</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Automatic_Clustering_Config_Sharing.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Metaswitch Networks.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/Automatic_Clustering_Config_Sharing.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>